# January 2026 OCapN pre-standardization meeting, 2026-01-13

## Attendees

- David Thompson (Spritely)
- Christine Lemmer-Webber (Spritely)
- Baldur (Independent)
- Jonathan Rees (Independent)
- Jessica Tallon (Spritely)
- kumavis (Metamask)
- Ridley (Independent)

## Minutes

### [#202](https://github.com/ocapn/ocapn/issues/202) fold `op:deliver-only` into `op:deliver`

Kumavis: I introduced the issue about `op:deliver` and `op:deliver-only`. In some cases we'll want to create an answer position, in some cases we'll want to listen to it.

Ridley: Did we get Kris' opinion on folding those two ops together?

Jessica: I think it would be useful to talk about them as separate issues. One is more complicated and has less consensus than the other.  The two issues are: Should we fold `op:deliver-only`, which is when you want to send a message but aren't interested in the response, into `op:deliver`. By setting the answer position and resolve-me descriptor to false it would be the same as what `op:deliver-only` is doing now.  I think that this has consensus.

Ridley: I don't think we have any mark of approval from Kris.

Christine: Should we go with consensus pending approval, as Dave mentioned earlier?  Sounds like there isn't disagreement in the group that's here.

Kumavis: One issue I had with #202 was the positional arguments.

Ridley: I fixed that.

Jessica: Once we've tentatively approved this we need a volunteer to make a PR for this. Ridley has done most of the work so far, would you like to make a PR?

Ridley: Yes.

Ridley: Before we go into #167, should we talk about #224 because the PR has approvals?

### [#224](https://github.com/ocapn/ocapn/pull/224) change GC ops to use list of objects

Ridley: The group approved the idea at the last meeting. After, I made a PR. Kris and Jessica approved it, and Kumavis seems on board.

Dave: Seems like this could be merged, right?

JAR: Sure. It says Ridley wants to merge two commits.

Ridley: The second commit was just an adjustment based on feedback.

Christine: I believe merging is the job of Jessica or Kris.

Jessica: I merged it. I will also open an issue on the test suite to update the GC tests.

Kumavis: Process question: Sounds like we all approved issue 202 but we don't have a PR to open the spec text.

Ridley: I was "voluntold" so I'll be doing that.

Kumavis: Okay. Tag me as a reviewer.

### [#221](https://github.com/ocapn/ocapn/pull/221) Protections against multiple connections between two peers

Ridley: Everyone approved this at the last meeting because I hadn't reviewed yet, but I've now reviewed and approved it so it can get merged.

JAR: Jessica, are you up for merging this?

Jessica: Oh right, I opened this. Merged!

JAR: Any more things like this that can be merged quickly?

Ridley: That's all I had on my list. These were things waiting for my review.

JAR: I haven't scanned all the issues for whether Agoric needs to be here or not.  Agoric needs to be represented somehow.

### [#67](https://github.com/ocapn/ocapn/issues/67) conflate or divide op:deliver family

Kumavis: Should we close #67 since it was what was approved with #202?

Ridley: When I make my PR I can say it closes both 67 and 202, or I can close 67.

JAR: It's up to you.

Ridley: Close 67 since I might forget.

Dave: Should we link that 202 supersedes it?

JAR: It's already there, so just close it.

Dave: Jessica, can you close it?

*Jessica closes the issue*

JAR: My feeling continues that I don't know how to make agendas for this group. We can continue muddling through, and that's fine. As far as quorum goes, I offered this view that puts a lot of burden on me: Do we have the right people to have this conversation? As far as agenda goes, from my POV it feels fairly random. If we had more milestones, then we could assign meeting time to the most urgent topics, but we don't really have that. Comments? We don't need to talk about this for long.

Ridley: I think it's reasonable.

### [#167](https://github.com/ocapn/ocapn/issues/167) non-implicit subscription with op:deliver (use op:listen instead)

Kumavis: Should we look at #167 next?

Ridley: Yeah we should.

Ridley: What I find valuable is when we have, like we did today, 3 or 4 issues/PRs that are ready to merge or close that will only take a minute. I think we should prioritize those so we don't have a giant backlog of things that are settled but waiting to be finished.

JAR: That's a good suggestion. I can try to put instructions in meeting issues about that.

Ridley: At the last implementers meeting, we spent a few minutes at the end asking if there were any specific topics we'd like the group to discuss at the plenary meeting.

JAR: And what happened with that?

Ridley: We got a list of issues/PRs and I added those things to the agenda for this meeting. If people like this, we can do this more intentionally for future meetings.

JAR: When you say "we can address fairly quickly", you're being sort of non-committal but I can read between the lines and form the agenda.

Ridley: I can be more explicit in the future.

JAR: I'd get a lot of value from that.

Ridley: It would be helpful for me to know what to expect coming into these meetings, so it would be very valuable to me to know the issues ahead of time.

JAR: I can certainly identify with that. The problem is that it's hard for me to decide and when I put out a call for agenda items I often don't get a response so we have to improvise at the beginning, which I don't like but we'll do it if we have to.

Jessica: I post notes from the implementers meetings on an issue and I could've posted the potential agenda topics in the issue. We could have known about these things a week ahead of time.

Kumavis: What's the way that we should nominate items for the agenda? Should we use an issue label? Add them to the meeting issue?

JAR: I like issue/PR numbers a lot, but sometimes we don't have those.

Kumavis: I like labels because if we don't finish it in one meeting then we can still see it for next time.

JAR: What label?

Kumavis: There is the "meeting" label.

Ridley: Nearly all the issues are going to require discussion at some point or another but a label doesn't do a good job of saying "this is what we should focus on this week"

Christine: I think the "focus" tag is a little vibey, like this is kind of the stuff we should be focusing on right now. I think that kind of squishiness is good. Things eventually get firmed up by being moved into the meeting agenda. But in terms of providing a list of things it can be helpful. There comes a time when people start marking everything as "focus" and then it won't be useful anymore, but until that time it will be useful.

Kumavis: How about a "agenda" tag?

Dave: I feel like a label for that would be too persistent and would hang around.

Christine: I think that things in these meetings are JIT compiled more than we would like, certainly more than the chair would like. Making an active effort to improve by having these conversations every now and then is a good thing. At Spritely, we have a meeting every week, on Monday, where we ask about OCapN and if we want to propose agenda items. That's why sometimes you see us add stuff the day before.

JAR: If I don't see a message on the issue thread about the outcome of the implementers meeting, I can poke around and see what I can find now that I know that you are making these issues.  That will help me make an agenda.  Does that sound good?

*Christine, Jessica, Ridley say "yes" in the chat*

https://github.com/ocapn/ocapn/issues/167

Kumavis: I was trying to unify `op:deliver` and `op:deliver-only`, but this can now be made a lot simpler since we've agreed on the other proposal that Ridley wrote.  This proposal says we could leave out the `resolve-me-desc` when delivering a message and send a follow-up `op:listen` if we are interested in the resolution.

Jessica: I think this is a good idea, and from talking to Dave and Christine I know they like it, too.  This will allow you to wait to listen until you really need the resolution. Then there's the case where you are promise pipelining and you don't care about intermediary responses, you can not listen to those at all and reduce network traffic. For simple implementation, you can just eagerly send an `op:listen`.

Ridley: Is this a change in opinion? You seemed hesitant in the past.

Jessica: We had done an experiment in Goblins with this that didn't work but we think it's because of an issue in Goblins and not in OCapN. If you're always emitting `op:listen` then we can be compliant.  I don't think we were strongtly opposed previously.

Baldur: Getting rid of `resolve-me-desc` from `op:deliver` will cost another message on the wire, it's worth it. Implementers won't have to decide when they deliver if they want the result of the promise or not. It's easier to have `op:listen` instead.

JAR: For clarification: this is a protocol issue and not an API issue, right?

Kumavis: The main motivation for this was to not subscribe to the settling of the answer, but that was resolved with 202. I'm less motivated to pursue this change now. If we were to remove `resolve-me-desc`, then we need to create an answer, subscribe to the answer, and then potentially GC the answer. With 202, my needs are met and I'm happy to de-prioritize 167.

Ridley: Are you sure? Oh, I think I maybe misunderstood some of 202.  202 says you *can* have a resolve me descriptor, but you don't have to.  167 is saying that we wouldn't have a resolve me descriptor.

Jessica: That's my understanding.

Ridley: I'm trying to think: Is there a situation in which that distinction would matter to me?  If I make a remote call and get a promise back, I won't care about listening to the resolution until after I send the message. If we kept the resolve me descriptor then I'd have to hold back the message send entirely.  Awaiting the promise is what indicates that you want the answer to something.

Christine: You could send a listen later though.

Jessica: Right. In Goblins we setup a resolve me descriptor immediately when sending a message. We experimented with delaying it and listening later when doing an `on`.

Ridley: If we wait to listen until awaiting a promise that would make things easier for me.

Christine: I'm still concerned about race conditions, but we'll see if an implementation can do it.

Ridley: I think that would be very doable for me.

Jessica: Goblins makes this change difficult to do but I do think it's possible.

Dave: I think Cap'n Web works this way.

Ridley: I'm hesitant to include "you may or may not do this" in the specification. There are trade-offs to consider. In terms of implementation, there's going to be less hang-ups if we pick one approach and go with it.

Dave: I like the possibility of being able to defer listens until we need it because we could reduce total network traffic

Ridley: If resolve me descriptor is optional then in what case would you set it?  For me, I wouldn't know at the time of sending a message if I wanted to know the result.  I wouldn't know until the promise was awaited.

Jessica: You could assume that someone will want the answer and setup the descriptor ahead of time.

Ridley: I think I'm mixing up "answer" with "resolved result". In my implementation, I can never know if I want the result or not until a later time, after the original call. Right now, the implementation says "screw it" and assume we want the result and pass a resolve me descriptor.  If it's no longer required, then I would call for an answer promise and do a listen on the answer promise. In my implementation, the only way that it would make sense to specify a resolve me descriptor *sometimes* is by adding an option to the public interface to pass along a descriptor, and that's an interface that I don't want to expose to my users.

Jessica: Sounds like your implementation is working like Goblins, where it specifies a resolve me descriptor regardless if it will be used or not. Some implementations could use static analysis and know ahead of time, though I don't think that would be common.  If we merge 167, Goblins will probably just always emit an `op:listen` after `op:deliver` for the time being because we probably won't end up implementing deferred listen until later on due to complexities in the Goblins machinery.

JAR: I wonder if we can move this offline until the next meeting.  It would be nice to get these perspectives recorded in the issue.

